//JSZip v2.4.0
!function(a){var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.JSZip=a()}(function(){return function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=b[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,d,a,b,c)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){"use strict";var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(a){for(var e,f,g,h,i,j,k,c="",l=0;l<a.length;)e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=a.charCodeAt(l++),h=e>>2,i=(3&e)<<4|f>>4,j=(15&f)<<2|g>>6,k=63&g,isNaN(f)?j=k=64:isNaN(g)&&(k=64),c=c+d.charAt(h)+d.charAt(i)+d.charAt(j)+d.charAt(k);return c},c.decode=function(a){var e,f,g,h,i,j,k,c="",l=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<a.length;)h=d.indexOf(a.charAt(l++)),i=d.indexOf(a.charAt(l++)),j=d.indexOf(a.charAt(l++)),k=d.indexOf(a.charAt(l++)),e=h<<2|i>>4,f=(15&i)<<4|j>>2,g=(3&j)<<6|k,c+=String.fromCharCode(e),64!=j&&(c+=String.fromCharCode(f)),64!=k&&(c+=String.fromCharCode(g));return c}},{}],2:[function(a,b){"use strict";function d(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}d.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},b.exports=d},{}],3:[function(a,b,c){"use strict";c.STORE={magic:"\0\0",compress:function(a){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null},c.DEFLATE=a("./flate")},{"./flate":8}],4:[function(a,b){"use strict";var d=a("./utils"),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(a,b){if("undefined"==typeof a||!a.length)return 0;var c="string"!==d.getTypeOf(a);"undefined"==typeof b&&(b=0);var f=0,g=0,h=0;b=-1^b;for(var i=0,j=a.length;j>i;i++)h=c?a[i]:a.charCodeAt(i),g=255&(b^h),f=e[g],b=b>>>8^f;return-1^b}},{"./utils":21}],5:[function(a,b){"use strict";function e(){this.data=null,this.length=0,this.index=0}var d=a("./utils");e.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<a||0>a)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,b=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)b=(b<<8)+this.byteAt(c);return this.index+=a,b},readString:function(a){return d.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date((127&a>>25)+1980,(15&a>>21)-1,31&a>>16,31&a>>11,63&a>>5,(31&a)<<1)}},b.exports=e},{"./utils":21}],6:[function(a,b,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!1,c.date=null,c.compression=null,c.comment=null},{}],7:[function(a,b,c){"use strict";var d=a("./utils");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo("uint8array",a)},c.uint8Array2String=function(a){return d.transformTo("string",a)},c.string2Blob=function(a){var b=d.transformTo("arraybuffer",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{"./utils":21}],8:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,e=a("pako");c.uncompressInputType=d?"uint8array":"array",c.compressInputType=d?"uint8array":"array",c.magic="\b\0",c.compress=function(a){return e.deflateRaw(a)},c.uncompress=function(a){return e.inflateRaw(a)}},{pako:24}],9:[function(a,b){"use strict";function e(a,b){return this instanceof e?(this.files={},this.comment=null,this.root="",a&&this.load(a,b),this.clone=function(){var a=new e;for(var b in this)"function"!=typeof this[b]&&(a[b]=this[b]);return a},void 0):new e(a,b)}var d=a("./base64");e.prototype=a("./object"),e.prototype.load=a("./load"),e.support=a("./support"),e.defaults=a("./defaults"),e.utils=a("./deprecatedPublicUtils"),e.base64={encode:function(a){return d.encode(a)},decode:function(a){return d.decode(a)}},e.compressions=a("./compressions"),b.exports=e},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(a,b){"use strict";var d=a("./base64"),e=a("./zipEntries");b.exports=function(a,b){var c,f,g,h;for(b=b||{},b.base64&&(a=d.decode(a)),f=new e(a,b),c=f.files,g=0;g<c.length;g++)h=c[g],this.file(h.fileName,h.decompressed,{binary:!0,optimizedBinaryString:!0,date:h.date,dir:h.dir,comment:h.fileComment.length?h.fileComment:null,createFolders:b.createFolders});return f.zipComment.length&&(this.comment=f.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(a,b){!function(a){"use strict";b.exports=function(b,c){return new a(b,c)},b.exports.test=function(b){return a.isBuffer(b)}}.call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(a,b){"use strict";function e(a){this.data=a,this.length=this.data.length,this.index=0}var d=a("./uint8ArrayReader");e.prototype=new d,e.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.index,this.index+a);return this.index+=a,b},b.exports=e},{"./uint8ArrayReader":18}],13:[function(a,b){"use strict";var d=a("./support"),e=a("./utils"),f=a("./crc32"),g=a("./signature"),h=a("./defaults"),i=a("./base64"),j=a("./compressions"),k=a("./compressedObject"),l=a("./nodeBuffer"),m=a("./utf8"),n=a("./stringWriter"),o=a("./uint8ArrayWriter"),p=function(a){if(a._data instanceof k&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,"uint8array"===e.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},q=function(a){var b=p(a),c=e.getTypeOf(b);return"string"===c?!a.options.binary&&d.nodebuffer?l(b,"utf-8"):a.asBinary():b},r=function(a){var b=p(this);return null===b||"undefined"==typeof b?"":(this.options.base64&&(b=i.decode(b)),b=a&&this.options.binary?B.utf8decode(b):e.transformTo("string",b),a||this.options.binary||(b=e.transformTo("string",B.utf8encode(b))),b)},s=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this._data=b,this.options=c,this._initialMetadata={dir:c.dir,date:c.date}};s.prototype={asText:function(){return r.call(this,!0)},asBinary:function(){return r.call(this,!1)},asNodeBuffer:function(){var a=q(this);return e.transformTo("nodebuffer",a)},asUint8Array:function(){var a=q(this);return e.transformTo("uint8array",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var t=function(a,b){var d,c="";for(d=0;b>d;d++)c+=String.fromCharCode(255&a),a>>>=8;return c},u=function(){var b,c,a={};for(b=0;b<arguments.length;b++)for(c in arguments[b])arguments[b].hasOwnProperty(c)&&"undefined"==typeof a[c]&&(a[c]=arguments[b][c]);return a},v=function(a){return a=a||{},a.base64!==!0||null!==a.binary&&void 0!==a.binary||(a.binary=!0),a=u(a,h),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},w=function(a,b,c){var f,d=e.getTypeOf(b);if(c=v(c),c.createFolders&&(f=x(a))&&y.call(this,f,!0),c.dir||null===b||"undefined"==typeof b)c.base64=!1,c.binary=!1,b=null;else if("string"===d)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=e.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(d||b instanceof k))throw new Error("The data of '"+a+"' is in an unsupported format !");"arraybuffer"===d&&(b=e.transformTo("uint8array",b))}var g=new s(a,b,c);return this.files[a]=g,g},x=function(a){"/"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""},y=function(a,b){return"/"!=a.slice(-1)&&(a+="/"),b="undefined"!=typeof b?b:!1,this.files[a]||w.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},z=function(a,b){var d,c=new k;return a._data instanceof k?(c.uncompressedSize=a._data.uncompressedSize,c.crc32=a._data.crc32,0===c.uncompressedSize||a.dir?(b=j.STORE,c.compressedContent="",c.crc32=0):a._data.compressionMethod===b.magic?c.compressedContent=a._data.getCompressedContent():(d=a._data.getContent(),c.compressedContent=b.compress(e.transformTo(b.compressInputType,d)))):(d=q(a),(!d||0===d.length||a.dir)&&(b=j.STORE,d=""),c.uncompressedSize=d.length,c.crc32=f(d),c.compressedContent=b.compress(e.transformTo(b.compressInputType,d))),c.compressedSize=c.compressedContent.length,c.compressionMethod=b.magic,c},A=function(a,b,c,d){var p,q,v,w,i=(c.compressedContent,e.transformTo("string",m.utf8encode(b.name))),j=b.comment||"",k=e.transformTo("string",m.utf8encode(j)),l=i.length!==b.name.length,n=k.length!==j.length,o=b.options,r="",s="",u="";v=b._initialMetadata.dir!==b.dir?b.dir:o.dir,w=b._initialMetadata.date!==b.date?b.date:o.date,p=w.getHours(),p<<=6,p|=w.getMinutes(),p<<=5,p|=w.getSeconds()/2,q=w.getFullYear()-1980,q<<=4,q|=w.getMonth()+1,q<<=5,q|=w.getDate(),l&&(s=t(1,1)+t(f(i),4)+i,r+="up"+t(s.length,2)+s),n&&(u=t(1,1)+t(this.crc32(k),4)+k,r+="uc"+t(u.length,2)+u);var x="";x+="\n\0",x+=l||n?"\0\b":"\0\0",x+=c.compressionMethod,x+=t(p,2),x+=t(q,2),x+=t(c.crc32,4),x+=t(c.compressedSize,4),x+=t(c.uncompressedSize,4),x+=t(i.length,2),x+=t(r.length,2);var y=g.LOCAL_FILE_HEADER+x+i+r,z=g.CENTRAL_FILE_HEADER+"\0"+x+t(k.length,2)+"\0\0"+"\0\0"+(v===!0?"\0\0\0":"\0\0\0\0")+t(d,4)+i+r+k;return{fileRecord:y,dirRecord:z,compressedObject:c}},B={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(a){var c,d,e,f,b=[];for(c in this.files)this.files.hasOwnProperty(c)&&(e=this.files[c],f=new s(e.name,e._data,u(e.options)),d=c.slice(this.root.length,c.length),c.slice(0,this.root.length)===this.root&&a(d,f)&&b.push(f));return b},file:function(a,b,c){if(1===arguments.length){if(e.isRegExp(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,w.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(e.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=y.call(this,b),d=this.clone();return d.root=c.name,d},remove:function(a){a=this.root+a;var b=this.files[a];if(b||("/"!=a.slice(-1)&&(a+="/"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){a=u(a||{},{base64:!0,compression:"STORE",type:"base64",comment:null}),e.checkSupport(a.type);var f,h,b=[],c=0,d=0,k=e.transformTo("string",this.utf8encode(a.comment||this.comment||""));for(var l in this.files)if(this.files.hasOwnProperty(l)){var m=this.files[l],p=m.options.compression||a.compression.toUpperCase(),q=j[p];if(!q)throw new Error(p+" is not a valid compression method !");var r=z.call(this,m,q),s=A.call(this,l,m,r,c);c+=s.fileRecord.length+r.compressedSize,d+=s.dirRecord.length,b.push(s)}var v="";v=g.CENTRAL_DIRECTORY_END+"\0\0"+"\0\0"+t(b.length,2)+t(b.length,2)+t(d,4)+t(c,4)+t(k.length,2)+k;var w=a.type.toLowerCase();for(f="uint8array"===w||"arraybuffer"===w||"blob"===w||"nodebuffer"===w?new o(c+d+v.length):new n(c+d+v.length),h=0;h<b.length;h++)f.append(b[h].fileRecord),f.append(b[h].compressedObject.compressedContent);for(h=0;h<b.length;h++)f.append(b[h].dirRecord);f.append(v);var x=f.finalize();switch(a.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return e.transformTo(a.type.toLowerCase(),x);case"blob":return e.arrayBuffer2Blob(e.transformTo("arraybuffer",x));case"base64":return a.base64?i.encode(x):x;default:return x}},crc32:function(a,b){return f(a,b)},utf8encode:function(a){return e.transformTo("string",m.utf8encode(a))},utf8decode:function(a){return m.utf8decode(a)}};b.exports=B},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(a,b,c){"use strict";c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\b"},{}],15:[function(a,b){"use strict";function f(a,b){this.data=a,b||(this.data=e.string2binary(this.data)),this.length=this.data.length,this.index=0}var d=a("./dataReader"),e=a("./utils");f.prototype=new d,f.prototype.byteAt=function(a){return this.data.charCodeAt(a)},f.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)},f.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.index,this.index+a);return this.index+=a,b},b.exports=f},{"./dataReader":5,"./utils":21}],16:[function(a,b){"use strict";var d=a("./utils"),e=function(){this.data=[]};e.prototype={append:function(a){a=d.transformTo("string",a),this.data.push(a)},finalize:function(){return this.data.join("")}},b.exports=e},{"./utils":21}],17:[function(a,b,c){!function(a){"use strict";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,c.nodebuffer="undefined"!=typeof a,c.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)c.blob=!1;else{var b=new ArrayBuffer(0);try{c.blob=0===new Blob([b],{type:"application/zip"}).size}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(b),c.blob=0===f.getBlob("application/zip").size}catch(d){c.blob=!1}}}}.call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(a,b){"use strict";function e(a){a&&(this.data=a,this.length=this.data.length,this.index=0)}var d=a("./dataReader");e.prototype=new d,e.prototype.byteAt=function(a){return this.data[a]},e.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f;return-1},e.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.index,this.index+a);return this.index+=a,b},b.exports=e},{"./dataReader":5}],19:[function(a,b){"use strict";var d=a("./utils"),e=function(a){this.data=new Uint8Array(a),this.index=0};e.prototype={append:function(a){0!==a.length&&(a=d.transformTo("uint8array",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},b.exports=e},{"./utils":21}],20:[function(a,b,c){"use strict";for(var d=a("./utils"),e=a("./support"),f=a("./nodeBuffer"),g=new Array(256),h=0;256>h;h++)g[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;g[254]=g[254]=1;var i=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=e.uint8array?new Uint8Array(i):new Array(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|63&c>>>6,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|63&c>>>12,b[g++]=128|63&c>>>6,b[g++]=128|63&c);return b},j=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+g[a[c]]>b?c:b},k=function(a){var c,e,f,h,i=a.length,j=new Array(2*i);for(e=0,c=0;i>c;)if(f=a[c++],128>f)j[e++]=f;else if(h=g[f],h>4)j[e++]=65533,c+=h-1;else{for(f&=2===h?31:3===h?15:7;h>1&&i>c;)f=f<<6|63&a[c++],h--;h>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|1023&f>>10,j[e++]=56320|1023&f)}return j.length!==e&&(j.subarray?j=j.subarray(0,e):j.length=e),d.applyFromCharCode(j)};c.utf8encode=function(a){return e.nodebuffer?f(a,"utf-8"):i(a)},c.utf8decode=function(a){if(e.nodebuffer)return d.transformTo("nodebuffer",a).toString("utf-8");a=d.transformTo(e.uint8array?"uint8array":"array",a);for(var b=[],c=0,f=a.length,g=65536;f>c;){var h=j(a,Math.min(c+g,f));e.uint8array?b.push(k(a.subarray(c,h))):b.push(k(a.slice(c,h))),c=h}return b.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(a,b,c){"use strict";function g(a){return a}function h(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function i(a){var b=65536,d=[],e=a.length,g=c.getTypeOf(a),h=0,i=!0;try{switch(g){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,f(0))}}catch(j){i=!1}if(!i){for(var k="",l=0;l<a.length;l++)k+=String.fromCharCode(a[l]);return k}for(;e>h&&b>1;)try{"array"===g||"nodebuffer"===g?d.push(String.fromCharCode.apply(null,a.slice(h,Math.min(h+b,e)))):d.push(String.fromCharCode.apply(null,a.subarray(h,Math.min(h+b,e)))),h+=b}catch(j){b=Math.floor(b/2)}return d.join("")}function j(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var d=a("./support"),e=a("./compressions"),f=a("./nodeBuffer");c.string2binary=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},c.arrayBuffer2Blob=function(a){c.checkSupport("blob");try{return new Blob([a],{type:"application/zip"})}catch(b){try{var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,e=new d;return e.append(a),e.getBlob("application/zip")}catch(b){throw new Error("Bug : can't construct the Blob.")}}},c.applyFromCharCode=i;var k={};k.string={string:g,array:function(a){return h(a,new Array(a.length))},arraybuffer:function(a){return k.string.uint8array(a).buffer},uint8array:function(a){return h(a,new Uint8Array(a.length))},nodebuffer:function(a){return h(a,f(a.length))}},k.array={string:i,array:g,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return f(a)}},k.arraybuffer={string:function(a){return i(new Uint8Array(a))},array:function(a){return j(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:g,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return f(new Uint8Array(a))}},k.uint8array={string:i,array:function(a){return j(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:g,nodebuffer:function(a){return f(a)}},k.nodebuffer={string:i,array:function(a){return j(a,new Array(a.length))},arraybuffer:function(a){return k.nodebuffer.uint8array(a).buffer},uint8array:function(a){return j(a,new Uint8Array(a.length))},nodebuffer:g},c.transformTo=function(a,b){if(b||(b=""),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=k[d][a](b);return e},c.getTypeOf=function(a){return"string"==typeof a?"string":"[object Array]"===Object.prototype.toString.call(a)?"array":d.nodebuffer&&f.test(a)?"nodebuffer":d.uint8array&&a instanceof Uint8Array?"uint8array":d.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(a){var b=d[a.toLowerCase()];if(!b)throw new Error(a+" is not supported by this browser")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var c,d,b="";for(d=0;d<(a||"").length;d++)c=a.charCodeAt(d),b+="\\x"+(16>c?"0":"")+c.toString(16).toUpperCase();return b},c.findCompression=function(a){for(var b in e)if(e.hasOwnProperty(b)&&e[b].magic===a)return e[b];return null},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(a,b){"use strict";function l(a,b){this.files=[],this.loadOptions=b,a&&this.load(a)}var d=a("./stringReader"),e=a("./nodeBufferReader"),f=a("./uint8ArrayReader"),g=a("./utils"),h=a("./signature"),i=a("./zipEntry"),j=a("./support"),k=a("./object");l.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw new Error("Corrupted zip or bug : unexpected signature ("+g.pretty(b)+", expected "+g.pretty(a)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=k.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,d,e,a=this.zip64EndOfCentralSize-44,b=0;a>b;)c=this.reader.readInt(2),d=this.reader.readInt(4),e=this.reader.readString(d),this.zip64ExtensibleData[c]={id:c,length:d,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===h.CENTRAL_FILE_HEADER;)a=new i({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(-1===a)throw new Error("Corrupted zip : can't find end of central directory");if(this.reader.setIndex(a),this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===a)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(a),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(a){var b=g.getTypeOf(a);this.reader="string"!==b||j.uint8array?"nodebuffer"===b?new e(a):new f(g.transformTo("uint8array",a)):new d(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=l},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(a,b){"use strict";function h(a,b){this.options=a,this.loadOptions=b}var d=a("./stringReader"),e=a("./utils"),f=a("./compressedObject"),g=a("./object");h.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var e=a.readData(c);return a.setIndex(d),e}},prepareContent:function(a,b,c,d,f){return function(){var a=e.transformTo(d.uncompressInputType,this.getCompressedContent()),b=d.uncompress(a);if(b.length!==f)throw new Error("Bug : uncompressed data size mismatch");return b}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readString(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(b=e.findCompression(this.compressionMethod),null===b)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new f,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=e.transformTo("string",this.decompressed.getContent()),g.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(a){if(this.versionMadeBy=a.readString(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=a.readString(this.fileNameLength),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readString(this.fileCommentLength),this.dir=16&this.externalFileAttributes?!0:!1},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=new d(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(a){var c,d,e,b=a.index;for(this.extraFields=this.extraFields||{};a.index<b+this.extraFieldsLength;)c=a.readInt(2),d=a.readInt(2),e=a.readString(d),this.extraFields[c]={id:c,length:d,value:e}},handleUTF8:function(){if(this.useUTF8())this.fileName=g.utf8decode(this.fileName),this.fileComment=g.utf8decode(this.fileComment);else{var a=this.findExtraFieldUnicodePath();null!==a&&(this.fileName=a);var b=this.findExtraFieldUnicodeComment();null!==b&&(this.fileComment=b)}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=new d(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileName)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new d(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileComment)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))}return null}},b.exports=h},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(a,b){"use strict";var d=a("./lib/utils/common").assign,e=a("./lib/deflate"),f=a("./lib/inflate"),g=a("./lib/zlib/constants"),h={};d(h,e,f,g),b.exports=h},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(a,b,c){"use strict";function q(a,b){var c=new p(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function r(a,b){return b=b||{},b.raw=!0,q(a,b)}function s(a,b){return b=b||{},b.gzip=!0,q(a,b)}var d=a("./zlib/deflate.js"),e=a("./utils/common"),f=a("./utils/strings"),g=a("./zlib/messages"),h=a("./zlib/zstream"),i=0,j=4,k=0,l=1,m=-1,n=0,o=8,p=function(a){this.options=e.assign({level:m,method:o,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var c=d.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==k)throw new Error(g[c]);b.header&&d.deflateSetHeader(this.strm,b.header)};p.prototype.push=function(a,b){var h,m,c=this.strm,g=this.options.chunkSize;if(this.ended)return!1;m=b===~~b?b:b===!0?j:i,c.input="string"==typeof a?f.string2buf(a):a,c.next_in=0,c.avail_in=c.input.length;
do{if(0===c.avail_out&&(c.output=new e.Buf8(g),c.next_out=0,c.avail_out=g),h=d.deflate(c,m),h!==l&&h!==k)return this.onEnd(h),this.ended=!0,!1;(0===c.avail_out||0===c.avail_in&&m===j)&&("string"===this.options.to?this.onData(f.buf2binstring(e.shrinkBuf(c.output,c.next_out))):this.onData(e.shrinkBuf(c.output,c.next_out)))}while((c.avail_in>0||0===c.avail_out)&&h!==l);return m===j?(h=d.deflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===k):!0},p.prototype.onData=function(a){this.chunks.push(a)},p.prototype.onEnd=function(a){a===k&&(this.result="string"===this.options.to?this.chunks.join(""):e.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=p,c.deflate=q,c.deflateRaw=r,c.gzip=s},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(a,b,c){"use strict";function l(a,b){var c=new k(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function m(a,b){return b=b||{},b.raw=!0,l(a,b)}var d=a("./zlib/inflate.js"),e=a("./utils/common"),f=a("./utils/strings"),g=a("./zlib/constants"),h=a("./zlib/messages"),i=a("./zlib/zstream"),j=a("./zlib/gzheader"),k=function(a){this.options=e.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var c=d.inflateInit2(this.strm,b.windowBits);if(c!==g.Z_OK)throw new Error(h[c]);this.header=new j,d.inflateGetHeader(this.strm,this.header)};k.prototype.push=function(a,b){var i,j,k,l,m,c=this.strm,h=this.options.chunkSize;if(this.ended)return!1;j=b===~~b?b:b===!0?g.Z_FINISH:g.Z_NO_FLUSH,c.input="string"==typeof a?f.binstring2buf(a):a,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new e.Buf8(h),c.next_out=0,c.avail_out=h),i=d.inflate(c,g.Z_NO_FLUSH),i!==g.Z_STREAM_END&&i!==g.Z_OK)return this.onEnd(i),this.ended=!0,!1;c.next_out&&(0===c.avail_out||i===g.Z_STREAM_END||0===c.avail_in&&j===g.Z_FINISH)&&("string"===this.options.to?(k=f.utf8border(c.output,c.next_out),l=c.next_out-k,m=f.buf2string(c.output,k),c.next_out=l,c.avail_out=h-l,l&&e.arraySet(c.output,c.output,k,l,0),this.onData(m)):this.onData(e.shrinkBuf(c.output,c.next_out)))}while(c.avail_in>0&&i!==g.Z_STREAM_END);return i===g.Z_STREAM_END&&(j=g.Z_FINISH),j===g.Z_FINISH?(i=d.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===g.Z_OK):!0},k.prototype.onData=function(a){this.chunks.push(a)},k.prototype.onEnd=function(a){a===g.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):e.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=k,c.inflate=l,c.inflateRaw=m,c.ungzip=l},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return a.set(b.subarray(c,c+d),e),void 0;for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],28:[function(a,b,c){"use strict";function j(a,b){if(65537>b&&(a.subarray&&f||!a.subarray&&e))return String.fromCharCode.apply(null,d.shrinkBuf(a,b));for(var c="",g=0;b>g;g++)c+=String.fromCharCode(a[g]);return c}var d=a("./common"),e=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch(g){e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(g){f=!1}for(var h=new d.Buf8(256),i=0;256>i;i++)h[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;h[254]=h[254]=1,c.string2buf=function(a){var b,c,e,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(e=a.charCodeAt(f+1),56320===(64512&e)&&(c=65536+(c-55296<<10)+(e-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new d.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(e=a.charCodeAt(f+1),56320===(64512&e)&&(c=65536+(c-55296<<10)+(e-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|63&c>>>6,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|63&c>>>12,b[g++]=128|63&c>>>6,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return j(a,a.length)},c.binstring2buf=function(a){for(var b=new d.Buf8(a.length),c=0,e=b.length;e>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,d,e,f,g=b||a.length,i=new Array(2*g);for(d=0,c=0;g>c;)if(e=a[c++],128>e)i[d++]=e;else if(f=h[e],f>4)i[d++]=65533,c+=f-1;else{for(e&=2===f?31:3===f?15:7;f>1&&g>c;)e=e<<6|63&a[c++],f--;f>1?i[d++]=65533:65536>e?i[d++]=e:(e-=65536,i[d++]=55296|1023&e>>10,i[d++]=56320|1023&e)}return j(i,d)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+h[a[c]]>b?c:b}},{"./common":27}],29:[function(a,b){"use strict";function d(a,b,c,d){for(var e=0|65535&a,f=0|65535&a>>>16,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=0|e+b[d++],f=0|f+e;while(--g);e%=65521,f%=65521}return 0|(e|f<<16)}b.exports=d},{}],30:[function(a,b){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(a,b){"use strict";function d(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function f(a,b,c,d){var f=e,g=d+c;a=-1^a;for(var h=d;g>h;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}var e=d();b.exports=f},{}],32:[function(a,b,c){"use strict";function $(a,b){return a.msg=h[b],b}function _(a){return(a<<1)-(a>4?9:0)}function ab(a){for(var b=a.length;--b>=0;)a[b]=0}function bb(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(d.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function cb(a,b){e._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,bb(a.strm)}function db(a,b){a.pending_buf[a.pending++]=b}function eb(a,b){a.pending_buf[a.pending++]=255&b>>>8,a.pending_buf[a.pending++]=255&b}function fb(a,b,c,e){var h=a.avail_in;return h>e&&(h=e),0===h?0:(a.avail_in-=h,d.arraySet(b,a.input,a.next_in,h,c),1===a.state.wrap?a.adler=f(a.adler,b,h,c):2===a.state.wrap&&(a.adler=g(a.adler,b,h,c)),a.next_in+=h,a.total_in+=h,h)}function gb(a,b){var e,f,c=a.max_chain_length,d=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-M?a.strstart-(a.w_size-M):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+L,n=j[d+g-1],o=j[d+g];a.prev_length>=a.good_match&&(c>>=2),h>a.lookahead&&(h=a.lookahead);do if(e=b,j[e+g]===o&&j[e+g-1]===n&&j[e]===j[d]&&j[++e]===j[d+1]){d+=2,e++;do;while(j[++d]===j[++e]&&j[++d]===j[++e]&&j[++d]===j[++e]&&j[++d]===j[++e]&&j[++d]===j[++e]&&j[++d]===j[++e]&&j[++d]===j[++e]&&j[++d]===j[++e]&&m>d);if(f=L-(m-d),d=m-L,f>g){if(a.match_start=b,g=f,f>=h)break;n=j[d+g-1],o=j[d+g]}}while((b=l[b&k])>i&&0!==--c);return g<=a.lookahead?g:a.lookahead}function hb(a){var c,e,f,g,h,b=a.w_size;do{if(g=a.window_size-a.lookahead-a.strstart,a.strstart>=b+(b-M)){d.arraySet(a.window,a.window,b,b,0),a.match_start-=b,a.strstart-=b,a.block_start-=b,e=a.hash_size,c=e;do f=a.head[--c],a.head[c]=f>=b?f-b:0;while(--e);e=b,c=e;do f=a.prev[--c],a.prev[c]=f>=b?f-b:0;while(--e);g+=b}if(0===a.strm.avail_in)break;if(e=fb(a.strm,a.window,a.strstart+a.lookahead,g),a.lookahead+=e,a.lookahead+a.insert>=K)for(h=a.strstart-a.insert,a.ins_h=a.window[h],a.ins_h=(a.ins_h<<a.hash_shift^a.window[h+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[h+K-1])&a.hash_mask,a.prev[h&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=h,h++,a.insert--,!(a.lookahead+a.insert<K)););}while(a.lookahead<M&&0!==a.strm.avail_in)}function ib(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(hb(a),0===a.lookahead&&b===i)return V;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,cb(a,!1),0===a.strm.avail_out))return V;if(a.strstart-a.block_start>=a.w_size-M&&(cb(a,!1),0===a.strm.avail_out))return V}return a.insert=0,b===l?(cb(a,!0),0===a.strm.avail_out?X:Y):a.strstart>a.block_start&&(cb(a,!1),0===a.strm.avail_out)?V:V}function jb(a,b){for(var c,d;;){if(a.lookahead<M){if(hb(a),a.lookahead<M&&b===i)return V;if(0===a.lookahead)break}if(c=0,a.lookahead>=K&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+K-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-M&&(a.match_length=gb(a,c)),a.match_length>=K)if(d=e._tr_tally(a,a.strstart-a.match_start,a.match_length-K),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=K){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+K-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=e._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(cb(a,!1),0===a.strm.avail_out))return V}return a.insert=a.strstart<K-1?a.strstart:K-1,b===l?(cb(a,!0),0===a.strm.avail_out?X:Y):a.last_lit&&(cb(a,!1),0===a.strm.avail_out)?V:W}function kb(a,b){for(var c,d,f;;){if(a.lookahead<M){if(hb(a),a.lookahead<M&&b===i)return V;if(0===a.lookahead)break}if(c=0,a.lookahead>=K&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+K-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=K-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-M&&(a.match_length=gb(a,c),a.match_length<=5&&(a.strategy===t||a.match_length===K&&a.strstart-a.match_start>4096)&&(a.match_length=K-1)),a.prev_length>=K&&a.match_length<=a.prev_length){f=a.strstart+a.lookahead-K,d=e._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-K),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=f&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+K-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=K-1,a.strstart++,d&&(cb(a,!1),0===a.strm.avail_out))return V}else if(a.match_available){if(d=e._tr_tally(a,0,a.window[a.strstart-1]),d&&cb(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return V}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=e._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<K-1?a.strstart:K-1,b===l?(cb(a,!0),0===a.strm.avail_out?X:Y):a.last_lit&&(cb(a,!1),0===a.strm.avail_out)?V:W}function lb(a,b){for(var c,d,f,g,h=a.window;;){if(a.lookahead<=L){if(hb(a),a.lookahead<=L&&b===i)return V;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=K&&a.strstart>0&&(f=a.strstart-1,d=h[f],d===h[++f]&&d===h[++f]&&d===h[++f])){g=a.strstart+L;do;while(d===h[++f]&&d===h[++f]&&d===h[++f]&&d===h[++f]&&d===h[++f]&&d===h[++f]&&d===h[++f]&&d===h[++f]&&g>f);a.match_length=L-(g-f),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=K?(c=e._tr_tally(a,1,a.match_length-K),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=e._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(cb(a,!1),0===a.strm.avail_out))return V}return a.insert=0,b===l?(cb(a,!0),0===a.strm.avail_out?X:Y):a.last_lit&&(cb(a,!1),0===a.strm.avail_out)?V:W}function mb(a,b){for(var c;;){if(0===a.lookahead&&(hb(a),0===a.lookahead)){if(b===i)return V;break}if(a.match_length=0,c=e._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(cb(a,!1),0===a.strm.avail_out))return V}return a.insert=0,b===l?(cb(a,!0),0===a.strm.avail_out?X:Y):a.last_lit&&(cb(a,!1),0===a.strm.avail_out)?V:W}function pb(a){a.window_size=2*a.w_size,ab(a.head),a.max_lazy_match=ob[a.level].max_lazy,a.good_match=ob[a.level].good_length,a.nice_match=ob[a.level].nice_length,a.max_chain_length=ob[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=K-1,a.match_available=0,a.ins_h=0}function qb(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*I),this.dyn_dtree=new d.Buf16(2*(2*G+1)),this.bl_tree=new d.Buf16(2*(2*H+1)),ab(this.dyn_ltree),ab(this.dyn_dtree),ab(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(J+1),this.heap=new d.Buf16(2*F+1),ab(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*F+1),ab(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function rb(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=y,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?O:T,a.adler=2===b.wrap?0:1,b.last_flush=i,e._tr_init(b),n):$(a,p)}function sb(a){var b=rb(a);return b===n&&pb(a.state),b}function tb(a,b){return a&&a.state?2!==a.state.wrap?p:(a.state.gzhead=b,n):p}function ub(a,b,c,e,f,g){if(!a)return p;var h=1;if(b===s&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>A||c!==z||8>e||e>15||0>b||b>9||0>g||g>w)return $(a,p);8===e&&(e=9);var i=new qb;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+K-1)/K),i.window=new d.Buf8(2*i.w_size),i.head=new d.Buf16(i.hash_size),i.prev=new d.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new d.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,sb(a)}function vb(a,b){return ub(a,b,z,B,C,x)}function wb(a,b){var c,d,f,h;if(!a||!a.state||b>m||0>b)return a?$(a,p):p;if(d=a.state,!a.output||!a.input&&0!==a.avail_in||d.status===U&&b!==l)return $(a,0===a.avail_out?r:p);if(d.strm=a,c=d.last_flush,d.last_flush=b,d.status===O)if(2===d.wrap)a.adler=0,db(d,31),db(d,139),db(d,8),d.gzhead?(db(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),db(d,255&d.gzhead.time),db(d,255&d.gzhead.time>>8),db(d,255&d.gzhead.time>>16),db(d,255&d.gzhead.time>>24),db(d,9===d.level?2:d.strategy>=u||d.level<2?4:0),db(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(db(d,255&d.gzhead.extra.length),db(d,255&d.gzhead.extra.length>>8)),d.gzhead.hcrc&&(a.adler=g(a.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=P):(db(d,0),db(d,0),db(d,0),db(d,0),db(d,0),db(d,9===d.level?2:d.strategy>=u||d.level<2?4:0),db(d,Z),d.status=T);else{var q=z+(d.w_bits-8<<4)<<8,s=-1;s=d.strategy>=u||d.level<2?0:d.level<6?1:6===d.level?2:3,q|=s<<6,0!==d.strstart&&(q|=N),q+=31-q%31,d.status=T,eb(d,q),0!==d.strstart&&(eb(d,a.adler>>>16),eb(d,65535&a.adler)),a.adler=1}if(d.status===P)if(d.gzhead.extra){for(f=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>f&&(a.adler=g(a.adler,d.pending_buf,d.pending-f,f)),bb(a),f=d.pending,d.pending!==d.pending_buf_size));)db(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>f&&(a.adler=g(a.adler,d.pending_buf,d.pending-f,f)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=Q)}else d.status=Q;if(d.status===Q)if(d.gzhead.name){f=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>f&&(a.adler=g(a.adler,d.pending_buf,d.pending-f,f)),bb(a),f=d.pending,d.pending===d.pending_buf_size)){h=1;break}h=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,db(d,h)}while(0!==h);d.gzhead.hcrc&&d.pending>f&&(a.adler=g(a.adler,d.pending_buf,d.pending-f,f)),0===h&&(d.gzindex=0,d.status=R)}else d.status=R;if(d.status===R)if(d.gzhead.comment){f=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>f&&(a.adler=g(a.adler,d.pending_buf,d.pending-f,f)),bb(a),f=d.pending,d.pending===d.pending_buf_size)){h=1;break}h=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,db(d,h)}while(0!==h);d.gzhead.hcrc&&d.pending>f&&(a.adler=g(a.adler,d.pending_buf,d.pending-f,f)),0===h&&(d.status=S)}else d.status=S;if(d.status===S&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&bb(a),d.pending+2<=d.pending_buf_size&&(db(d,255&a.adler),db(d,255&a.adler>>8),a.adler=0,d.status=T)):d.status=T),0!==d.pending){if(bb(a),0===a.avail_out)return d.last_flush=-1,n}else if(0===a.avail_in&&_(b)<=_(c)&&b!==l)return $(a,r);if(d.status===U&&0!==a.avail_in)return $(a,r);if(0!==a.avail_in||0!==d.lookahead||b!==i&&d.status!==U){var t=d.strategy===u?mb(d,b):d.strategy===v?lb(d,b):ob[d.level].func(d,b);if((t===X||t===Y)&&(d.status=U),t===V||t===X)return 0===a.avail_out&&(d.last_flush=-1),n;if(t===W&&(b===j?e._tr_align(d):b!==m&&(e._tr_stored_block(d,0,0,!1),b===k&&(ab(d.head),0===d.lookahead&&(d.strstart=0,d.block_start=0,d.insert=0))),bb(a),0===a.avail_out))return d.last_flush=-1,n}return b!==l?n:d.wrap<=0?o:(2===d.wrap?(db(d,255&a.adler),db(d,255&a.adler>>8),db(d,255&a.adler>>16),db(d,255&a.adler>>24),db(d,255&a.total_in),db(d,255&a.total_in>>8),db(d,255&a.total_in>>16),db(d,255&a.total_in>>24)):(eb(d,a.adler>>>16),eb(d,65535&a.adler)),bb(a),d.wrap>0&&(d.wrap=-d.wrap),0!==d.pending?n:o)}function xb(a){var b;return a&&a.state?(b=a.state.status,b!==O&&b!==P&&b!==Q&&b!==R&&b!==S&&b!==T&&b!==U?$(a,p):(a.state=null,b===T?$(a,q):n)):p}var ob,d=a("../utils/common"),e=a("./trees"),f=a("./adler32"),g=a("./crc32"),h=a("./messages"),i=0,j=1,k=3,l=4,m=5,n=0,o=1,p=-2,q=-3,r=-5,s=-1,t=1,u=2,v=3,w=4,x=0,y=2,z=8,A=9,B=15,C=8,D=29,E=256,F=E+1+D,G=30,H=19,I=2*F+1,J=15,K=3,L=258,M=L+K+1,N=32,O=42,P=69,Q=73,R=91,S=103,T=113,U=666,V=1,W=2,X=3,Y=4,Z=3,nb=function(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e};ob=[new nb(0,0,0,0,ib),new nb(4,4,8,4,jb),new nb(4,5,16,8,jb),new nb(4,6,32,32,jb),new nb(4,4,16,16,kb),new nb(8,16,32,32,kb),new nb(8,16,128,128,kb),new nb(8,32,128,256,kb),new nb(32,128,258,1024,kb),new nb(32,258,258,4096,kb)],c.deflateInit=vb,c.deflateInit2=ub,c.deflateReset=sb,c.deflateResetKeep=rb,c.deflateSetHeader=tb,c.deflate=wb,c.deflateEnd=xb,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(a,b){"use strict";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=d},{}],34:[function(a,b){"use strict";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=255&v>>>16,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg="invalid literal/length code",c.mode=d;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=255&v>>>16,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg="invalid distance code",c.mode=d;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg="invalid distance too far back",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg="invalid distance too far back",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],35:[function(a,b,c){"use strict";function eb(a){return(255&a>>>24)+(65280&a>>>8)+((65280&a)<<8)+((255&a)<<24)}function fb(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function gb(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=w,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new d.Buf32(ab),b.distcode=b.distdyn=new d.Buf32(bb),b.sane=1,b.back=-1,o):r}function hb(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,gb(a)):r}function ib(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?r:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,hb(a))):r}function jb(a,b){var c,d;return a?(d=new fb,a.state=d,d.window=null,c=ib(a,b),c!==o&&(a.state=null),c):r}function kb(a){return jb(a,db)}function ob(a){if(lb){var b;for(mb=new d.Buf32(512),nb=new d.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(h(j,a.lens,0,288,mb,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;h(k,a.lens,0,32,nb,0,a.work,{bits:5}),lb=!1}a.lencode=mb,a.lenbits=9,a.distcode=nb,a.distbits=5}function pb(a,b,c,e){var f,g=a.state;return null===g.window&&(g.wsize=1<<g.wbits,g.wnext=0,g.whave=0,g.window=new d.Buf8(g.wsize)),e>=g.wsize?(d.arraySet(g.window,b,c-g.wsize,g.wsize,0),g.wnext=0,g.whave=g.wsize):(f=g.wsize-g.wnext,f>e&&(f=e),d.arraySet(g.window,b,c-e,f,g.wnext),e-=f,e?(d.arraySet(g.window,b,c-e,e,0),g.wnext=e,g.whave=g.wsize):(g.wnext+=f,g.wnext===g.wsize&&(g.wnext=0),g.whave<g.wsize&&(g.whave+=f))),0}function qb(a,b){var c,ab,bb,cb,db,fb,gb,hb,ib,jb,kb,lb,mb,nb,rb,sb,tb,ub,vb,wb,xb,yb,Ab,Bb,qb=0,zb=new d.Buf8(4),Cb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return r;c=a.state,c.mode===H&&(c.mode=I),db=a.next_out,bb=a.output,gb=a.avail_out,cb=a.next_in,ab=a.input,fb=a.avail_in,hb=c.hold,ib=c.bits,jb=fb,kb=gb,yb=o;a:for(;;)switch(c.mode){case w:if(0===c.wrap){c.mode=I;break}for(;16>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(2&c.wrap&&35615===hb){c.check=0,zb[0]=255&hb,zb[1]=255&hb>>>8,c.check=f(c.check,zb,2,0),hb=0,ib=0,c.mode=x;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&hb)<<8)+(hb>>8))%31){a.msg="incorrect header check",c.mode=Z;break}if((15&hb)!==v){a.msg="unknown compression method",c.mode=Z;break}if(hb>>>=4,ib-=4,xb=(15&hb)+8,0===c.wbits)c.wbits=xb;else if(xb>c.wbits){a.msg="invalid window size",c.mode=Z;break}c.dmax=1<<xb,a.adler=c.check=1,c.mode=512&hb?F:H,hb=0,ib=0;break;case x:for(;16>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(c.flags=hb,(255&c.flags)!==v){a.msg="unknown compression method",c.mode=Z;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=Z;break}c.head&&(c.head.text=1&hb>>8),512&c.flags&&(zb[0]=255&hb,zb[1]=255&hb>>>8,c.check=f(c.check,zb,2,0)),hb=0,ib=0,c.mode=y;case y:for(;32>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}c.head&&(c.head.time=hb),512&c.flags&&(zb[0]=255&hb,zb[1]=255&hb>>>8,zb[2]=255&hb>>>16,zb[3]=255&hb>>>24,c.check=f(c.check,zb,4,0)),hb=0,ib=0,c.mode=z;case z:for(;16>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}c.head&&(c.head.xflags=255&hb,c.head.os=hb>>8),512&c.flags&&(zb[0]=255&hb,zb[1]=255&hb>>>8,c.check=f(c.check,zb,2,0)),hb=0,ib=0,c.mode=A;case A:if(1024&c.flags){for(;16>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}c.length=hb,c.head&&(c.head.extra_len=hb),512&c.flags&&(zb[0]=255&hb,zb[1]=255&hb>>>8,c.check=f(c.check,zb,2,0)),hb=0,ib=0}else c.head&&(c.head.extra=null);c.mode=B;case B:if(1024&c.flags&&(lb=c.length,lb>fb&&(lb=fb),lb&&(c.head&&(xb=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),d.arraySet(c.head.extra,ab,cb,lb,xb)),512&c.flags&&(c.check=f(c.check,ab,lb,cb)),fb-=lb,cb+=lb,c.length-=lb),c.length))break a;c.length=0,c.mode=C;case C:if(2048&c.flags){if(0===fb)break a;lb=0;do xb=ab[cb+lb++],c.head&&xb&&c.length<65536&&(c.head.name+=String.fromCharCode(xb));while(xb&&fb>lb);if(512&c.flags&&(c.check=f(c.check,ab,lb,cb)),fb-=lb,cb+=lb,xb)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=D;case D:if(4096&c.flags){if(0===fb)break a;lb=0;do xb=ab[cb+lb++],c.head&&xb&&c.length<65536&&(c.head.comment+=String.fromCharCode(xb));while(xb&&fb>lb);if(512&c.flags&&(c.check=f(c.check,ab,lb,cb)),fb-=lb,cb+=lb,xb)break a}else c.head&&(c.head.comment=null);c.mode=E;case E:if(512&c.flags){for(;16>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(hb!==(65535&c.check)){a.msg="header crc mismatch",c.mode=Z;break}hb=0,ib=0}c.head&&(c.head.hcrc=1&c.flags>>9,c.head.done=!0),a.adler=c.check=0,c.mode=H;break;case F:for(;32>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}a.adler=c.check=eb(hb),hb=0,ib=0,c.mode=G;case G:if(0===c.havedict)return a.next_out=db,a.avail_out=gb,a.next_in=cb,a.avail_in=fb,c.hold=hb,c.bits=ib,q;a.adler=c.check=1,c.mode=H;case H:if(b===m||b===n)break a;case I:if(c.last){hb>>>=7&ib,ib-=7&ib,c.mode=W;break}for(;3>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}switch(c.last=1&hb,hb>>>=1,ib-=1,3&hb){case 0:c.mode=J;break;case 1:if(ob(c),c.mode=P,b===n){hb>>>=2,ib-=2;break a}break;case 2:c.mode=M;break;case 3:a.msg="invalid block type",c.mode=Z}hb>>>=2,ib-=2;break;case J:for(hb>>>=7&ib,ib-=7&ib;32>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if((65535&hb)!==(65535^hb>>>16)){a.msg="invalid stored block lengths",c.mode=Z;break}if(c.length=65535&hb,hb=0,ib=0,c.mode=K,b===n)break a;case K:c.mode=L;case L:if(lb=c.length){if(lb>fb&&(lb=fb),lb>gb&&(lb=gb),0===lb)break a;d.arraySet(bb,ab,cb,lb,db),fb-=lb,cb+=lb,gb-=lb,db+=lb,c.length-=lb;break}c.mode=H;break;case M:for(;14>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(c.nlen=(31&hb)+257,hb>>>=5,ib-=5,c.ndist=(31&hb)+1,hb>>>=5,ib-=5,c.ncode=(15&hb)+4,hb>>>=4,ib-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=Z;break}c.have=0,c.mode=N;case N:for(;c.have<c.ncode;){for(;3>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}c.lens[Cb[c.have++]]=7&hb,hb>>>=3,ib-=3}for(;c.have<19;)c.lens[Cb[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,Ab={bits:c.lenbits},yb=h(i,c.lens,0,19,c.lencode,0,c.work,Ab),c.lenbits=Ab.bits,yb){a.msg="invalid code lengths set",c.mode=Z;break}c.have=0,c.mode=O;case O:for(;c.have<c.nlen+c.ndist;){for(;qb=c.lencode[hb&(1<<c.lenbits)-1],rb=qb>>>24,sb=255&qb>>>16,tb=65535&qb,!(ib>=rb);){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(16>tb)hb>>>=rb,ib-=rb,c.lens[c.have++]=tb;else{if(16===tb){for(Bb=rb+2;Bb>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(hb>>>=rb,ib-=rb,0===c.have){a.msg="invalid bit length repeat",c.mode=Z;break}xb=c.lens[c.have-1],lb=3+(3&hb),hb>>>=2,ib-=2}else if(17===tb){for(Bb=rb+3;Bb>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}hb>>>=rb,ib-=rb,xb=0,lb=3+(7&hb),hb>>>=3,ib-=3}else{for(Bb=rb+7;Bb>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}hb>>>=rb,ib-=rb,xb=0,lb=11+(127&hb),hb>>>=7,ib-=7}if(c.have+lb>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=Z;break}for(;lb--;)c.lens[c.have++]=xb}}if(c.mode===Z)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=Z;break}if(c.lenbits=9,Ab={bits:c.lenbits},yb=h(j,c.lens,0,c.nlen,c.lencode,0,c.work,Ab),c.lenbits=Ab.bits,yb){a.msg="invalid literal/lengths set",c.mode=Z;break}if(c.distbits=6,c.distcode=c.distdyn,Ab={bits:c.distbits},yb=h(k,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,Ab),c.distbits=Ab.bits,yb){a.msg="invalid distances set",c.mode=Z;break}if(c.mode=P,b===n)break a;case P:c.mode=Q;case Q:if(fb>=6&&gb>=258){a.next_out=db,a.avail_out=gb,a.next_in=cb,a.avail_in=fb,c.hold=hb,c.bits=ib,g(a,kb),db=a.next_out,bb=a.output,gb=a.avail_out,cb=a.next_in,ab=a.input,fb=a.avail_in,hb=c.hold,ib=c.bits,c.mode===H&&(c.back=-1);break}for(c.back=0;qb=c.lencode[hb&(1<<c.lenbits)-1],rb=qb>>>24,sb=255&qb>>>16,tb=65535&qb,!(ib>=rb);){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(sb&&0===(240&sb)){for(ub=rb,vb=sb,wb=tb;qb=c.lencode[wb+((hb&(1<<ub+vb)-1)>>ub)],rb=qb>>>24,sb=255&qb>>>16,tb=65535&qb,!(ib>=ub+rb);){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}hb>>>=ub,ib-=ub,c.back+=ub}if(hb>>>=rb,ib-=rb,c.back+=rb,c.length=tb,0===sb){c.mode=V;break}if(32&sb){c.back=-1,c.mode=H;break}if(64&sb){a.msg="invalid literal/length code",c.mode=Z;break}c.extra=15&sb,c.mode=R;case R:if(c.extra){for(Bb=c.extra;Bb>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}c.length+=hb&(1<<c.extra)-1,hb>>>=c.extra,ib-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=S;case S:for(;qb=c.distcode[hb&(1<<c.distbits)-1],rb=qb>>>24,sb=255&qb>>>16,tb=65535&qb,!(ib>=rb);){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(0===(240&sb)){for(ub=rb,vb=sb,wb=tb;qb=c.distcode[wb+((hb&(1<<ub+vb)-1)>>ub)],rb=qb>>>24,sb=255&qb>>>16,tb=65535&qb,!(ib>=ub+rb);){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}hb>>>=ub,ib-=ub,c.back+=ub}if(hb>>>=rb,ib-=rb,c.back+=rb,64&sb){a.msg="invalid distance code",c.mode=Z;break}c.offset=tb,c.extra=15&sb,c.mode=T;case T:if(c.extra){for(Bb=c.extra;Bb>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8
}c.offset+=hb&(1<<c.extra)-1,hb>>>=c.extra,ib-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=Z;break}c.mode=U;case U:if(0===gb)break a;if(lb=kb-gb,c.offset>lb){if(lb=c.offset-lb,lb>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=Z;break}lb>c.wnext?(lb-=c.wnext,mb=c.wsize-lb):mb=c.wnext-lb,lb>c.length&&(lb=c.length),nb=c.window}else nb=bb,mb=db-c.offset,lb=c.length;lb>gb&&(lb=gb),gb-=lb,c.length-=lb;do bb[db++]=nb[mb++];while(--lb);0===c.length&&(c.mode=Q);break;case V:if(0===gb)break a;bb[db++]=c.length,gb--,c.mode=Q;break;case W:if(c.wrap){for(;32>ib;){if(0===fb)break a;fb--,hb|=ab[cb++]<<ib,ib+=8}if(kb-=gb,a.total_out+=kb,c.total+=kb,kb&&(a.adler=c.check=c.flags?f(c.check,bb,kb,db-kb):e(c.check,bb,kb,db-kb)),kb=gb,(c.flags?hb:eb(hb))!==c.check){a.msg="incorrect data check",c.mode=Z;break}hb=0,ib=0}c.mode=X;case X:if(c.wrap&&c.flags){for(;32>ib;){if(0===fb)break a;fb--,hb+=ab[cb++]<<ib,ib+=8}if(hb!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=Z;break}hb=0,ib=0}c.mode=Y;case Y:yb=p;break a;case Z:yb=s;break a;case $:return t;case _:default:return r}return a.next_out=db,a.avail_out=gb,a.next_in=cb,a.avail_in=fb,c.hold=hb,c.bits=ib,(c.wsize||kb!==a.avail_out&&c.mode<Z&&(c.mode<W||b!==l))&&pb(a,a.output,a.next_out,kb-a.avail_out)?(c.mode=$,t):(jb-=a.avail_in,kb-=a.avail_out,a.total_in+=jb,a.total_out+=kb,c.total+=kb,c.wrap&&kb&&(a.adler=c.check=c.flags?f(c.check,bb,kb,a.next_out-kb):e(c.check,bb,kb,a.next_out-kb)),a.data_type=c.bits+(c.last?64:0)+(c.mode===H?128:0)+(c.mode===P||c.mode===K?256:0),(0===jb&&0===kb||b===l)&&yb===o&&(yb=u),yb)}function rb(a){if(!a||!a.state)return r;var b=a.state;return b.window&&(b.window=null),a.state=null,o}function sb(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?r:(c.head=b,b.done=!1,o)):r}var mb,nb,d=a("../utils/common"),e=a("./adler32"),f=a("./crc32"),g=a("./inffast"),h=a("./inftrees"),i=0,j=1,k=2,l=4,m=5,n=6,o=0,p=1,q=2,r=-2,s=-3,t=-4,u=-5,v=8,w=1,x=2,y=3,z=4,A=5,B=6,C=7,D=8,E=9,F=10,G=11,H=12,I=13,J=14,K=15,L=16,M=17,N=18,O=19,P=20,Q=21,R=22,S=23,T=24,U=25,V=26,W=27,X=28,Y=29,Z=30,$=31,_=32,ab=852,bb=592,cb=15,db=cb,lb=!0;c.inflateReset=hb,c.inflateReset2=ib,c.inflateResetKeep=gb,c.inflateInit=kb,c.inflateInit2=jb,c.inflate=qb,c.inflateEnd=rb,c.inflateGetHeader=sb,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(a,b){"use strict";var d=a("../utils/common"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var E,F,G,H,I,L,Q,R,S,t=s.bits,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,J=null,K=0,M=new d.Buf16(e+1),N=new d.Buf16(e+1),O=null,P=0;for(u=0;e>=u;u++)M[u]=0;for(v=0;o>v;v++)M[b[c+v]]++;for(y=t,x=e;x>=1&&0===M[x];x--);if(y>x&&(y=x),0===x)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(w=1;x>w&&0===M[w];w++);for(w>y&&(y=w),B=1,u=1;e>=u;u++)if(B<<=1,B-=M[u],0>B)return-1;if(B>0&&(a===h||1!==x))return-1;for(N[1]=0,u=1;e>u;u++)N[u+1]=N[u]+M[u];for(v=0;o>v;v++)0!==b[c+v]&&(r[N[b[c+v]]++]=v);if(a===h?(J=O=r,L=19):a===i?(J=k,K-=257,O=l,P-=257,L=256):(J=m,O=n,L=-1),D=0,v=0,u=w,I=q,z=y,A=0,G=-1,C=1<<y,H=C-1,a===i&&C>f||a===j&&C>g)return 1;for(var T=0;;){T++,Q=u-A,r[v]<L?(R=0,S=r[v]):r[v]>L?(R=O[P+r[v]],S=J[K+r[v]]):(R=96,S=0),E=1<<u-A,F=1<<z,w=F;do F-=E,p[I+(D>>A)+F]=0|(Q<<24|R<<16|S);while(0!==F);for(E=1<<u-1;D&E;)E>>=1;if(0!==E?(D&=E-1,D+=E):D=0,v++,0===--M[u]){if(u===x)break;u=b[c+r[v]]}if(u>y&&(D&H)!==G){for(0===A&&(A=y),I+=w,z=u-A,B=1<<z;x>z+A&&(B-=M[z+A],!(0>=B));)z++,B<<=1;if(C+=1<<z,a===i&&C>f||a===j&&C>g)return 1;G=D&H,p[G]=0|(y<<24|z<<16|I-q)}}return 0!==D&&(p[I+D]=0|(u-A<<24|64<<16)),s.bits=y,0}},{"../utils/common":27}],37:[function(a,b){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(a,b,c){"use strict";function i(a){for(var b=a.length;--b>=0;)a[b]=0}function R(a){return 256>a?I[a]:I[256+(a>>>7)]}function S(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=255&b>>>8}function T(a,b,c){a.bi_valid>v-c?(a.bi_buf|=65535&b<<a.bi_valid,S(a,a.bi_buf),a.bi_buf=b>>v-a.bi_valid,a.bi_valid+=c-v):(a.bi_buf|=65535&b<<a.bi_valid,a.bi_valid+=c)}function U(a,b,c){T(a,c[2*b],c[2*b+1])}function V(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function W(a){16===a.bi_valid?(S(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function X(a,b){var j,k,l,m,n,o,c=b.dyn_tree,d=b.max_code,e=b.stat_desc.static_tree,f=b.stat_desc.has_stree,g=b.stat_desc.extra_bits,h=b.stat_desc.extra_base,i=b.stat_desc.max_length,p=0;for(m=0;u>=m;m++)a.bl_count[m]=0;for(c[2*a.heap[a.heap_max]+1]=0,j=a.heap_max+1;t>j;j++)k=a.heap[j],m=c[2*c[2*k+1]+1]+1,m>i&&(m=i,p++),c[2*k+1]=m,k>d||(a.bl_count[m]++,n=0,k>=h&&(n=g[k-h]),o=c[2*k],a.opt_len+=o*(m+n),f&&(a.static_len+=o*(e[2*k+1]+n)));if(0!==p){do{for(m=i-1;0===a.bl_count[m];)m--;a.bl_count[m]--,a.bl_count[m+1]+=2,a.bl_count[i]--,p-=2}while(p>0);for(m=i;0!==m;m--)for(k=a.bl_count[m];0!==k;)l=a.heap[--j],l>d||(c[2*l+1]!==m&&(a.opt_len+=(m-c[2*l+1])*c[2*l],c[2*l+1]=m),k--)}}function Y(a,b,c){var f,g,d=new Array(u+1),e=0;for(f=1;u>=f;f++)d[f]=e=e+c[f-1]<<1;for(g=0;b>=g;g++){var h=a[2*g+1];0!==h&&(a[2*g]=V(d[h]++,h))}}function Z(){var a,b,c,d,e,f=new Array(u+1);for(c=0,d=0;o-1>d;d++)for(K[d]=c,a=0;a<1<<B[d];a++)J[c++]=d;for(J[c-1]=d,e=0,d=0;16>d;d++)for(L[d]=e,a=0;a<1<<C[d];a++)I[e++]=d;for(e>>=7;r>d;d++)for(L[d]=e<<7,a=0;a<1<<C[d]-7;a++)I[256+e++]=d;for(b=0;u>=b;b++)f[b]=0;for(a=0;143>=a;)G[2*a+1]=8,a++,f[8]++;for(;255>=a;)G[2*a+1]=9,a++,f[9]++;for(;279>=a;)G[2*a+1]=7,a++,f[7]++;for(;287>=a;)G[2*a+1]=8,a++,f[8]++;for(Y(G,q+1,f),a=0;r>a;a++)H[2*a+1]=5,H[2*a]=V(a,5);N=new M(G,B,p+1,q,u),O=new M(H,C,0,r,u),P=new M(new Array(0),D,0,s,w)}function $(a){var b;for(b=0;q>b;b++)a.dyn_ltree[2*b]=0;for(b=0;r>b;b++)a.dyn_dtree[2*b]=0;for(b=0;s>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*x]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function _(a){a.bi_valid>8?S(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function ab(a,b,c,e){_(a),e&&(S(a,c),S(a,~c)),d.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function bb(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function cb(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&bb(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!bb(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function db(a,b,c){var d,e,g,h,f=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*f]<<8|a.pending_buf[a.d_buf+2*f+1],e=a.pending_buf[a.l_buf+f],f++,0===d?U(a,e,b):(g=J[e],U(a,g+p+1,b),h=B[g],0!==h&&(e-=K[g],T(a,e,h)),d--,g=R(d),U(a,g,c),h=C[g],0!==h&&(d-=L[g],T(a,d,h)));while(f<a.last_lit);U(a,x,b)}function eb(a,b){var g,h,j,c=b.dyn_tree,d=b.stat_desc.static_tree,e=b.stat_desc.has_stree,f=b.stat_desc.elems,i=-1;for(a.heap_len=0,a.heap_max=t,g=0;f>g;g++)0!==c[2*g]?(a.heap[++a.heap_len]=i=g,a.depth[g]=0):c[2*g+1]=0;for(;a.heap_len<2;)j=a.heap[++a.heap_len]=2>i?++i:0,c[2*j]=1,a.depth[j]=0,a.opt_len--,e&&(a.static_len-=d[2*j+1]);for(b.max_code=i,g=a.heap_len>>1;g>=1;g--)cb(a,c,g);j=f;do g=a.heap[1],a.heap[1]=a.heap[a.heap_len--],cb(a,c,1),h=a.heap[1],a.heap[--a.heap_max]=g,a.heap[--a.heap_max]=h,c[2*j]=c[2*g]+c[2*h],a.depth[j]=(a.depth[g]>=a.depth[h]?a.depth[g]:a.depth[h])+1,c[2*g+1]=c[2*h+1]=j,a.heap[1]=j++,cb(a,c,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],X(a,b),Y(c,i,a.bl_count)}function fb(a,b,c){var d,f,e=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)f=g,g=b[2*(d+1)+1],++h<i&&f===g||(j>h?a.bl_tree[2*f]+=h:0!==f?(f!==e&&a.bl_tree[2*f]++,a.bl_tree[2*y]++):10>=h?a.bl_tree[2*z]++:a.bl_tree[2*A]++,h=0,e=f,0===g?(i=138,j=3):f===g?(i=6,j=3):(i=7,j=4))}function gb(a,b,c){var d,f,e=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),d=0;c>=d;d++)if(f=g,g=b[2*(d+1)+1],!(++h<i&&f===g)){if(j>h){do U(a,f,a.bl_tree);while(0!==--h)}else 0!==f?(f!==e&&(U(a,f,a.bl_tree),h--),U(a,y,a.bl_tree),T(a,h-3,2)):10>=h?(U(a,z,a.bl_tree),T(a,h-3,3)):(U(a,A,a.bl_tree),T(a,h-11,7));h=0,e=f,0===g?(i=138,j=3):f===g?(i=6,j=3):(i=7,j=4)}}function hb(a){var b;for(fb(a,a.dyn_ltree,a.l_desc.max_code),fb(a,a.dyn_dtree,a.d_desc.max_code),eb(a,a.bl_desc),b=s-1;b>=3&&0===a.bl_tree[2*E[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function ib(a,b,c,d){var e;for(T(a,b-257,5),T(a,c-1,5),T(a,d-4,4),e=0;d>e;e++)T(a,a.bl_tree[2*E[e]+1],3);gb(a,a.dyn_ltree,b-1),gb(a,a.dyn_dtree,c-1)}function jb(a){var c,b=4093624447;for(c=0;31>=c;c++,b>>>=1)if(1&b&&0!==a.dyn_ltree[2*c])return f;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return g;for(c=32;p>c;c++)if(0!==a.dyn_ltree[2*c])return g;return f}function lb(a){kb||(Z(),kb=!0),a.l_desc=new Q(a.dyn_ltree,N),a.d_desc=new Q(a.dyn_dtree,O),a.bl_desc=new Q(a.bl_tree,P),a.bi_buf=0,a.bi_valid=0,$(a)}function mb(a,b,c,d){T(a,(j<<1)+(d?1:0),3),ab(a,b,c,!0)}function nb(a){T(a,k<<1,3),U(a,x,G),W(a)}function ob(a,b,c,d){var f,g,i=0;a.level>0?(a.strm.data_type===h&&(a.strm.data_type=jb(a)),eb(a,a.l_desc),eb(a,a.d_desc),i=hb(a),f=a.opt_len+3+7>>>3,g=a.static_len+3+7>>>3,f>=g&&(f=g)):f=g=c+5,f>=c+4&&-1!==b?mb(a,b,c,d):a.strategy===e||g===f?(T(a,(k<<1)+(d?1:0),3),db(a,G,H)):(T(a,(l<<1)+(d?1:0),3),ib(a,a.l_desc.max_code+1,a.d_desc.max_code+1,i+1),db(a,a.dyn_ltree,a.dyn_dtree)),$(a),d&&_(a)}function pb(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=255&b>>>8,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(J[c]+p+1)]++,a.dyn_dtree[2*R(b)]++),a.last_lit===a.lit_bufsize-1}var d=a("../utils/common"),e=4,f=0,g=1,h=2,j=0,k=1,l=2,m=3,n=258,o=29,p=256,q=p+1+o,r=30,s=19,t=2*q+1,u=15,v=16,w=7,x=256,y=16,z=17,A=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=512,G=new Array(2*(q+2));i(G);var H=new Array(2*r);i(H);var I=new Array(F);i(I);var J=new Array(n-m+1);i(J);var K=new Array(o);i(K);var L=new Array(r);i(L);var N,O,P,M=function(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length},Q=function(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b},kb=!1;c._tr_init=lb,c._tr_stored_block=mb,c._tr_flush_block=ob,c._tr_tally=pb,c._tr_align=nb},{"../utils/common":27}],39:[function(a,b){"use strict";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}]},{},[9])(9)});
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(view){"use strict";if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=doc.createEvent("MouseEvents");event.initMouseEvent("click",true,false,view,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex},0)},force_saveable_type="application/octet-stream",fs_min_size=0,arbitrary_revoke_timeout=500,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file)}else{file.remove()}};if(view.chrome){revoker()}else{setTimeout(revoker,arbitrary_revoke_timeout)}},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},FileSaver=function(blob,name){var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_URL().createObjectURL(blob)}if(target_view){target_view.location.href=object_url}else{var new_tab=view.open(object_url,"_blank");if(new_tab==undefined&&typeof safari!=="undefined"){view.location.href=object_url}}filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url)},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_URL().createObjectURL(blob);save_link.href=object_url;save_link.download=name;click(save_link);filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url);return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable(function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable(function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable(function(file){file.createWriter(abortable(function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event);revoke(file)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach(function(event){writer["on"+event]=filesaver["on"+event]});writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING}),fs_error)}),fs_error)};dir.getFile(name,{create:false},abortable(function(file){file.remove();save()}),abortable(function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}}))}),fs_error)}),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name){return new FileSaver(blob,name)};FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!=="undefined"&&define!==null&&define.amd!=null){define([],function(){return saveAs})}
// Blob.js
!function(a){"use strict";if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return new Blob,void 0}catch(b){}var c=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array,s=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL=function(a){var c,b=document.createElementNS("http://www.w3.org/1999/xhtml","a");return b.href=a,"origin"in b||("data:"===b.protocol.toLowerCase()?b.origin=null:(c=a.match(s),b.origin=c&&c[1])),b}),n.createObjectURL=function(a){var c,b=a.type;return null===b&&(b="application/octet-stream"),a instanceof d?(c="data:"+b,"base64"===a.encoding?c+";base64,"+a.data:"URI"===a.encoding?c+","+decodeURIComponent(a.data):o?c+";base64,"+o(a.data):c+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;j>i;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return 3>e&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0,delete this.data},c}(a);a.Blob=function(a,b){var d=b?b.type||"":"",e=new c;if(a)for(var f=0,g=a.length;g>f;f++)e.append(a[f]);return e.getBlob(d)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);

function d3vs_exportplaylist() {
	$.getJSON("https://stg.plug.dj/_/playlists", function( data ) {
	  var items = [];
	  $.each( data.data, function( key, val ) {
	    items.push( "<input type='radio' name='d3vs-playlist-export-radio' value='" + val.id + "'> " + val.name + " ["+val.count+" songs]<br/>" );
	  });
		
		TINY.box.show({
			html:"<div id='d3vs-playlist-export-div' style='height: 100%;'><input type='button' id='d3vs-playlist-downloadall-btn' value='DOWNLOAD ALL' /><br />"+items.join( "" )+"<input type='button' id='d3vs-playlist-download-btn' value='DOWNLOAD' /><input type='button' id='d3vs-playlist-export-btn' value='VIEW' /></div>",
			width:400, 
			height:500,
			openjs:function(){
				$("#d3vs-playlist-export-btn").click(function(){d3vs_exportplaylist_ok_view()});
				$("#d3vs-playlist-download-btn").click(function(){d3vs_exportplaylist_ok_download()});
				$("#d3vs-playlist-downloadall-btn").click(function(){d3vs_exportplaylist_ok_download_all()});
			}
		});
	});
}
function d3vs_exportplaylist_ok_view() {
	var playlist_id = $('input[name=d3vs-playlist-export-radio]:checked').val();
	if (playlist_id !== undefined) {
		$("#d3vs-playlist-export-div").html("<textarea style='width: 100%; height: 90%;' readonly>Loading..</textarea><em>Exported code of your playlist:</em>");
		$.ajax({
			url: "https://stg.plug.dj/_/playlists/"+playlist_id+"/media",
  			dataType: "text"
		})
		.done(function(d) {
			$("#d3vs-playlist-export-div textarea").text(d);
		})
		.fail(function(jqXHR, textStatus, errorThrown) {
			$("#d3vs-playlist-export-div textarea").text("Error during playlist fetching : "+textStatus+" - "+errorThrown);
		});
	}
}

function d3vs_exportplaylist_ok_download() {
	var playlist_id = $('input[name=d3vs-playlist-export-radio]:checked').val();
	if (playlist_id !== undefined) {
		$("#d3vs-playlist-export-div").html("<p>Getting playlists...</p>");
		$.getJSON("https://stg.plug.dj/_/playlists", function( data ) {
			var found = false;
			for(var index in data.data) {
				var val = data.data[index];
				if((""+val.id) === playlist_id) {
				$.ajax({
					url: "https://stg.plug.dj/_/playlists/"+val.id+"/media",
						dataType: "text"
				})
				.done(function(d) {
					$("#d3vs-playlist-export-div").append("<p>The playlist should be downloading right now.</p>");
					saveAs(new Blob([d], {type: "text/plain;charset="+ document.characterSet}),val.name+"-"+val.id+".pdj");
				}).fail(function(jqXHR, textStatus, errorThrown) {
					$("#d3vs-playlist-export-div").append("<p style=\"color: red;\">Error during playlist fetching : "+textStatus+" - "+errorThrown+"</p>");
				});
				found = true;
				}
			}
			if (!found) {
				$("#d3vs-playlist-export-div").append("<p style=\"color: red;\">Couldn't find the playlist, did you delete it in the meantime ?</p>");
			}
			
		});
	}
}
var d3vs_exportplaylist_data = [];
var d3vs_exportplaylist_currentindex = null;
var d3vs_exportplaylist_zip = null;
function d3vs_exportplaylist_ok_download_all() {
	$("#d3vs-playlist-export-div").html("<p>Getting playlists...</p>");
	$.getJSON("https://stg.plug.dj/_/playlists")
		.done(function(d) {
			d3vs_exportplaylist_data = d.data;
			d3vs_exportplaylist_zip = new JSZip();
			d3vs_exportplaylist_currentindex = 0;
			setTimeout(d3vs_exportplaylist_ok_download_all_tick,100);
		}).fail(function(jqXHR, textStatus, errorThrown) {
			$("#d3vs-playlist-export-div").append("<p style=\"color: red;\">Error during fetching : "+textStatus+" - "+errorThrown+"</p>");
		});
}

function d3vs_exportplaylist_ok_download_all_tick() {
	if(d3vs_exportplaylist_data.length == 0 || d3vs_exportplaylist_currentindex === null || d3vs_exportplaylist_zip === null) {
		return;
	}
	if (d3vs_exportplaylist_currentindex == d3vs_exportplaylist_data.length) {
		saveAs(d3vs_exportplaylist_zip.generate({type:"blob"}),"plugdj-playlists-"+new Date().toISOString().substring(0,10)+".zip");
		$("#d3vs-playlist-export-div").append("<p>The playlist archive should be downloading right now.</p>");
		return;
	}
	var val = d3vs_exportplaylist_data[d3vs_exportplaylist_currentindex];
	$.ajax({
		url: "https://stg.plug.dj/_/playlists/"+val.id+"/media",
		dataType: "text"
	})
	.done(function(d) {
		$("#d3vs-playlist-export-div").append("<p>Adding playlist '["+val.id+"] "+val.name+"...");
		d3vs_exportplaylist_zip.file(val.name+"-"+val.id+".pdj", d);
	}).fail(function(jqXHR, textStatus, errorThrown) {
		$("#d3vs-playlist-export-div").append("<p style=\"color: red;\">Skipping playlist '["+val.id+"] "+val.name+"' because of an error during fetching : "+textStatus+" - "+errorThrown+"</p>");
	}).always(function() {
		d3vs_exportplaylist_currentindex++;
		setTimeout(d3vs_exportplaylist_ok_download_all_tick,400);
	});
}



function d3vs_importplaylist() {
	TINY.box.show({html:"<div id='d3vs-playlist-export-div' style='height: 100%;'><input type='text' id='d3vs-playlist-import-name' value='' placeholder='Playlist Name' /><br /><textarea id='d3vs-playlist-import-code' style='width: 100%; height: 80%;' placeholder='Playlist Code'></textarea><input type='button' id='d3vs-playlist-import-btn' value='IMPORT' /><br/><p id='d3vs-playlist-import-error'></p></div>",width:400, height:500,openjs:function(){$("#d3vs-playlist-import-btn").click(function(){d3vs_importplaylist_ok()})}});
}

function d3vs_importplaylist_ok() {
	var playlist_name = $("#d3vs-playlist-import-name").val();
	var playlist_code = $("#d3vs-playlist-import-code").val();
	if (playlist_name != "" && playlist_code != "") {
		console.log(playlist_code);
		try {
			data = JSON.parse(playlist_code);
			for (i in data.data) {
				data.data[i].id = 0;
			}
			$.ajax({
				url: "https://stg.plug.dj/_/playlists",
				method: "POST",
	  			dataType: "text",
    			contentType: "application/json",
	  			data: JSON.stringify({
	  				name: playlist_name,
	  				media: data.data
	  			})
			})
			.done(function(d) {
				$("#d3vs-playlist-import-error").text("Playlist imported : "+d+". You need to refresh the page to see the new playlists.");
			})
			.fail(function(jqXHR, textStatus, errorThrown) {
				$("#d3vs-playlist-import-error").text("Error during playlist importing : "+textStatus+" - "+errorThrown);
			});
		}
		catch(err) {
			 $("#d3vs-playlist-import-error").text("Error parsing the playlist code : "+err);

		}
	}

}

function d3vs_playlist_waitforMetamod() {
    if (typeof(__metamod_menu_list) !== 'object') {
        setTimeout(d3vs_playlist_waitforMetamod,100);
        return;
    }
    __metamod_menu_list.unshift({
        name: "Import Playlist",
        func: d3vs_importplaylist
    });
    __metamod_menu_list.unshift({
        name: "Export Playlist",
        func: d3vs_exportplaylist
    });
    API.chatLog("Playlists import/export loaded.")
}
d3vs_playlist_waitforMetamod();